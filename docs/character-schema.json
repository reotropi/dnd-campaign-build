{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "D&D Character",
  "description": "Schema for D&D 5e character import",
  "type": "object",
  "required": [
    "name",
    "class",
    "level",
    "max_hp",
    "armor_class",
    "strength",
    "dexterity",
    "constitution",
    "intelligence",
    "wisdom",
    "charisma",
    "proficiency_bonus"
  ],
  "properties": {
    "name": {
      "type": "string",
      "description": "Character's name"
    },
    "class": {
      "type": "string",
      "description": "Character's class (e.g., Fighter, Wizard, Rogue)"
    },
    "level": {
      "type": "integer",
      "minimum": 1,
      "maximum": 20,
      "description": "Character level"
    },
    "race": {
      "type": "string",
      "description": "Character's race (e.g., Human, Elf, Dwarf)"
    },
    "background": {
      "type": "string",
      "description": "Character's background (e.g., Soldier, Noble, Criminal)"
    },
    "max_hp": {
      "type": "integer",
      "minimum": 1,
      "description": "Maximum hit points"
    },
    "armor_class": {
      "type": "integer",
      "minimum": 1,
      "description": "Armor class"
    },
    "strength": {
      "type": "integer",
      "minimum": 1,
      "maximum": 30,
      "description": "Strength ability score"
    },
    "dexterity": {
      "type": "integer",
      "minimum": 1,
      "maximum": 30,
      "description": "Dexterity ability score"
    },
    "constitution": {
      "type": "integer",
      "minimum": 1,
      "maximum": 30,
      "description": "Constitution ability score"
    },
    "intelligence": {
      "type": "integer",
      "minimum": 1,
      "maximum": 30,
      "description": "Intelligence ability score"
    },
    "wisdom": {
      "type": "integer",
      "minimum": 1,
      "maximum": 30,
      "description": "Wisdom ability score"
    },
    "charisma": {
      "type": "integer",
      "minimum": 1,
      "maximum": 30,
      "description": "Charisma ability score"
    },
    "proficiency_bonus": {
      "type": "integer",
      "minimum": 2,
      "maximum": 6,
      "description": "Proficiency bonus"
    },
    "skills": {
      "type": "object",
      "description": "Skill bonuses",
      "additionalProperties": {
        "type": "integer"
      }
    },
    "weapons": {
      "type": "array",
      "description": "Character's weapons",
      "items": {
        "type": "object",
        "required": ["name", "damage_dice", "damage_type"],
        "properties": {
          "name": {
            "type": "string"
          },
          "damage_dice": {
            "type": "string",
            "pattern": "^\\d+d\\d+$"
          },
          "damage_type": {
            "type": "string"
          },
          "attack_bonus": {
            "type": "integer"
          },
          "properties": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "spells": {
      "type": "array",
      "description": "Character's spells",
      "items": {
        "type": "object",
        "required": ["name", "level", "school", "casting_time", "range", "components", "duration", "description"],
        "properties": {
          "name": {
            "type": "string"
          },
          "level": {
            "type": "integer",
            "minimum": 0,
            "maximum": 9
          },
          "school": {
            "type": "string"
          },
          "casting_time": {
            "type": "string"
          },
          "range": {
            "type": "string"
          },
          "components": {
            "type": "string"
          },
          "duration": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "damage": {
            "type": "string"
          },
          "save_dc": {
            "type": "integer"
          }
        }
      }
    },
    "spell_slots": {
      "type": "object",
      "description": "Available spell slots by level",
      "properties": {
        "level_1": { "type": "integer", "minimum": 0 },
        "level_2": { "type": "integer", "minimum": 0 },
        "level_3": { "type": "integer", "minimum": 0 },
        "level_4": { "type": "integer", "minimum": 0 },
        "level_5": { "type": "integer", "minimum": 0 },
        "level_6": { "type": "integer", "minimum": 0 },
        "level_7": { "type": "integer", "minimum": 0 },
        "level_8": { "type": "integer", "minimum": 0 },
        "level_9": { "type": "integer", "minimum": 0 }
      }
    },
    "features": {
      "type": "array",
      "description": "Character features and abilities",
      "items": {
        "type": "object",
        "required": ["name", "description", "source"],
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "source": {
            "type": "string"
          }
        }
      }
    },
    "inventory": {
      "type": "array",
      "description": "Character's inventory",
      "items": {
        "type": "object",
        "required": ["name", "quantity"],
        "properties": {
          "name": {
            "type": "string"
          },
          "quantity": {
            "type": "integer",
            "minimum": 1
          },
          "description": {
            "type": "string"
          },
          "weight": {
            "type": "number"
          }
        }
      }
    },
    "notes": {
      "type": "string",
      "description": "Additional notes about the character"
    }
  }
}
